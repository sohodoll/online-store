(()=>{"use strict";class e{constructor(e){this.container=document.createElement("div"),""===e&&(e="main"),this.container.className=`${e}-wrapper wrapper`,this.container.id=e,this.mainHTML=document.querySelector("#main")}createHTML(e){this.container.innerHTML=e}render(){return this.container}}e.TextObject={};const s=e;const a=[{id:1,brand:"Adidas",name:"Adistar",description:"Solid running shoes",price:180,stock:30,category:"Running",thumbnail:"./assets/images/adistar/adistar.jpg",images:["./assets/images/adistar/adistar1.jpg","./assets/images/adistar/adistar2.jpg"]},{id:2,brand:"Adidas",name:"Adizero Boston 10",description:"Fast running shoes with a carbon plate",price:200,stock:20,category:"Running",thumbnail:"./assets/images/adizero/adizero.jpg",images:["./assets/images/adizero/adizero1.jpg","./assets/images/adizero/adizero2.jpg"]},{id:3,brand:"Adidas",name:"Takumi Sen 8",description:"Light running shoes with a carbon plate",price:220,stock:10,category:"Running",thumbnail:"./assets/images/takumi/takumi.jpg",images:["./assets/images/takumi/takumi1.jpg","./assets/images/takumi/takumi2.jpg"]},{id:4,brand:"Nike",name:"Pegasus",description:"Light running shoes with a carbon plate",price:220,stock:10,category:"Running",thumbnail:"./assets/images/pegasus/pegasus.jpg",images:["./assets/images/pegasus/pegasus1.jpg","./assets/images/pegasus/pegasus2.jpg"]},{id:5,brand:"Nike",name:"Vaporfly Next",description:"Professional running shoes from Nike",price:210,stock:15,category:"Running",thumbnail:"./assets/images/vaporfly/vaporfly.jpg",images:["./assets/images/vaporfly/vaporfly1.jpg","./assets/images/vaporfly/vaporfly2.jpg"]},{id:6,brand:"Adidas",name:"Campus 80",description:"Casual shoes with prime materials",price:110,stock:35,category:"Casual",thumbnail:"./assets/images/campus/campus.jpg",images:["./assets/images/campus/campus1.jpg","./assets/images/campus/campus2.jpg"]},{id:7,brand:"Adidas",name:"NMD R1",description:"Stylish and casual shoes from Adidas",price:100,stock:25,category:"Casual",thumbnail:"./assets/images/nmd/nmd.jpg",images:["./assets/images/nmd/nmd1.jpg","./assets/images/nmd/nmd2.jpg"]},{id:8,brand:"Puma",name:"Suede Classic",description:"Casual shoes from Puma",price:210,stock:15,category:"Casual",thumbnail:"./assets/images/suede/suede.jpg",images:["./assets/images/suede/suede1.jpg","./assets/images/suede/suede2.jpg"]},{id:9,brand:"Nike",name:"Air Force",description:"Modern casual shoes from Nike",price:130,stock:20,category:"Casual",thumbnail:"./assets/images/force/force.jpg",images:["./assets/images/force/force1.jpg","./assets/images/force/force2.jpg"]},{id:10,brand:"Nike",name:"Blazer Mid 77",description:"Best-selling casual shoes from Nike",price:150,stock:5,category:"Casual",thumbnail:"./assets/images/blazer/blazer.jpg",images:["./assets/images/blazer/blazer1.jpg","./assets/images/blazer/blazer2.jpg"]},{id:11,brand:"Asics",name:"Gel Kayano 27",description:"Soft trail running shoes from Asics",price:200,stock:10,category:"Trail",thumbnail:"./assets/images/kayano/kayano.jpg",images:["./assets/images/kayano/kayano1.jpg","./assets/images/kayano/kayano2.jpg"]},{id:12,brand:"Asics",name:"Gel Excite Trail",description:"Premium trail running shoes",price:210,stock:40,category:"Trail",thumbnail:"./assets/images/excite/excite.jpg",images:["./assets/images/excite/excite1.jpg","./assets/images/excite/excite2.jpg"]},{id:13,brand:"Adidas",name:"Agravic Flow 2",description:"Soft and colorful trail running shoes from Adidas",price:170,stock:10,category:"Trail",thumbnail:"./assets/images/agravic/agravic.jpg",images:["./assets/images/agravic/agravic1.jpg","./assets/images/agravic/agravic2.jpg"]},{id:14,brand:"Adidas",name:"Two Flow",description:"Premium trail running shoes from Adidas",price:180,stock:15,category:"Trail",thumbnail:"./assets/images/flow/flow.jpg",images:["./assets/images/flow/flow1.jpg","./assets/images/flow/flow2.jpg"]},{id:15,brand:"Hoka",name:"Speedgoat",description:"Professional train running shoes for rocky terrains from Hoka",price:160,stock:10,category:"Trail",thumbnail:"./assets/images/speedgoat/speedgoat.jpg",images:["./assets/images/speedgoat/speedgoat1.jpg","./assets/images/speedgoat/speedgoat2.jpg"]},{id:16,brand:"Nike",name:"LeBron 20",description:"Professional basketball shoes from Nike",price:200,stock:10,category:"Basketball",thumbnail:"./assets/images/lebron/lebron.jpg",images:["./assets/images/lebron/lebron1.jpg","./assets/images/lebron/lebron2.jpg"]},{id:17,brand:"Nike",name:"KD 15",description:"Professional and colorful basketball shoes from Nike",price:190,stock:20,category:"Basketball",thumbnail:"./assets/images/kd/kd.jpg",images:["./assets/images/kd/kd1.jpg","./assets/images/kd/kd2.jpg"]},{id:18,brand:"Nike",name:"Air Jordan 1",description:"Iconic basketball shoes from Nike",price:210,stock:5,category:"Basketball",thumbnail:"./assets/images/jordan/jordan.jpg",images:["./assets/images/jordan/jordan1.jpg","./assets/images/jordan/jordan2.jpg"]},{id:19,brand:"Puma",name:"Fusion Nitro",description:"Bouncy basketball shoes from Puma",price:160,stock:20,category:"Basketball",thumbnail:"./assets/images/fusion/fusion.jpg",images:["./assets/images/fusion/fusion1.jpg","./assets/images/fusion/fusion2.jpg"]},{id:20,brand:"Puma",name:"Court Rider",description:"Soft basketball shoes from Puma",price:140,stock:25,category:"Basketball",thumbnail:"./assets/images/court/court.jpg",images:["./assets/images/court/court1.jpg","./assets/images/court/court2.jpg"]},{id:21,brand:"Asics",name:"Blast FF3",description:"Professional volleyball shoes from Asics",price:170,stock:35,category:"Volleyball",thumbnail:"./assets/images/blast/blast.jpg",images:["./assets/images/blast/blast1.jpg","./assets/images/blast/blast2.jpg"]},{id:22,brand:"Asics",name:"Gel Rocket 10",description:"Professional and bouncy volleyball shoes from Asics",price:120,stock:15,category:"Volleyball",thumbnail:"./assets/images/rocket/rocket.jpg",images:["./assets/images/rocket/rocket1.jpg","./assets/images/rocket/rocket2.jpg"]},{id:23,brand:"Asics",name:"Sky Elite",description:"Professional volleyball shoes from Asics",price:150,stock:20,category:"Volleyball",thumbnail:"./assets/images/elite/elite.jpg",images:["./assets/images/elite/elite1.jpg","./assets/images/elite/elite2.jpg"]},{id:24,brand:"Asics",name:"Gel Tactic",description:"Professional and soft volleyball shoes from Asics",price:160,stock:5,category:"Volleyball",thumbnail:"./assets/images/tactic/tactic.jpg",images:["./assets/images/tactic/tactic1.jpg","./assets/images/tactic/tactic2.jpg"]},{id:25,brand:"Asics",name:"FurtherUP",description:"Budget volleyball shoes from Asics",price:90,stock:20,category:"Volleyball",thumbnail:"./assets/images/further/further.jpg",images:["./assets/images/further/further1.jpg","./assets/images/further/further2.jpg"]}];const t=class extends s{constructor(e){super(e)}createListItem(e){e.forEach((e=>{this.container.appendChild(function(e){const s=document.createElement("div"),a=document.createElement("img"),t=document.createElement("div"),i=document.createElement("p"),n=document.createElement("p"),r=document.createElement("div"),o=document.createElement("button"),c=document.createElement("button");return s.className="main__item",s.id=`main__item_${e.id}`,a.className="main__item-tumb",a.src=e.thumbnail,a.alt=`${e.brand} ${e.name}`,t.className="main__item-title",i.className="main__item-name",i.textContent=`${e.brand} ${e.name}`,n.className="main__item-price",n.textContent=`Price: $${e.price.toString()}`,t.appendChild(i),t.appendChild(n),r.className="main__item_btn-collection",o.className="main__item-btn btn-view",o.textContent="View",o.value=e.id.toString(),c.className="main__item-btn btn-to-cart",c.value=e.id.toString(),r.appendChild(o),r.appendChild(c),s.appendChild(a),s.appendChild(t),s.appendChild(r),s}(e))}))}render(){return this.createListItem(a),this.container}};const i=class extends s{constructor(e,s){super(e),this.arrCart=s}render(){return 0===this.arrCart.length?this.container.innerHTML="<h1>Cart is empty</h1>":this.arrCart.forEach((e=>{this.container.appendChild(e.createHTMLElement())})),this.container}};class n extends s{constructor(e,s){super(e),n.shoeBrand=s.brand,n.shoeName=s.name,n.shoeDescription=s.description,n.shoePrice=String(s.price),n.shoeStock=String(s.stock),n.shoeCategory=s.category,n.shoeThumbnail=s.thumbnail,n.shoePictures=s.images}render(){return this.container.innerHTML=`<div class="description__container">\n        <div class="description__left">\n            <div class="description__highlights">\n                <img class="description__image" src="${n.shoeThumbnail}" alt="${n.shoeName}" />\n                <div class="item__price">$<span class="item__price-number">${n.shoePrice}</span></div>\n            </div>\n            <div class="description__images">\n                        <div class="description__image-choice">\n                            <img class="image-choice" src="${n.shoePictures[0]}" alt="${n.shoeName}" />\n                        </div>\n                        <div class="description__image-choice">\n                            <img class="image-choice" src="${n.shoeThumbnail}" alt="${n.shoeName}" />\n                        </div>\n                        <div class="description__image-choice">\n                            <img class="image-choice" src="${n.shoePictures[1]}" alt="${n.shoeName}" />\n                        </div>\n                    </div>\n            <div class="description__buttons">\n                <div class="description__buy">Buy Now</div>\n                <div class="description__add">Add To Cart</div>\n            </div>\n        </div>\n        <div class="description__right item">\n            <div class="item__left">\n                <div class="item__naming naming">\n                    <div class="naming__upper">\n                        <div class="naming__names">\n                            <div class="item__name">${n.shoeBrand}</div>\n                            <div class="item__model">${n.shoeName}</div>\n                        </div>\n                        <div class="item__description">${n.shoeDescription}</div>\n                    </div>\n                    <div class="naming__bottom">\n                        <div class="item__stock">In stock: <span class="item__stock-number">${n.shoeStock}</span></div>\n                        <div class="item__category">\n                            Category: <span class="item__category-name">${n.shoeCategory}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>`,this.container}listen(){const e=document.querySelector(".description__image"),s=Array.from(document.querySelectorAll(".image-choice"));console.log(s),s.forEach((s=>{s.addEventListener("click",(()=>{e.src=s.src}))})),console.log(e)}}n.TextObject={MainTitle:"Description of the shoes"};const r=n;const o=class extends s{constructor(e){super(e)}render(){return this.createHTML('<div class="error404-wrapper wrapper">\n                        <img class="error404__img" src="../../../assets/gif/error404.gif" alt="404"/>\n                      </div>\n        '),this.container}};const c=class{constructor(e,s,a,t,i,n){this.id=e,this.name=s,this.brand=a,this.thumbnail=t,this.amount=i,this.price=n}addAmount(){this.amount++}delAmount(){this.amount>0&&this.amount--}getAmount(){return this.amount}getTotalPrice(){return this.amount*this.price}createHTMLElement(){const e=document.createElement("div"),s=document.createElement("img"),a=document.createElement("div"),t=document.createElement("p"),i=document.createElement("p"),n=document.createElement("input"),r=document.createElement("p");return e.className="cart__item",s.className="cart__item-img",s.src=this.thumbnail,s.alt=`${this.brand}\n${this.name}`,t.className="cart__item-name",t.textContent=this.name,i.className="cart__item-brand",i.textContent=this.brand,n.className="cart__item-amount",n.value=this.amount.toString(),r.className="cart__item-brand",r.textContent=this.getTotalPrice().toString(),a.appendChild(t),a.appendChild(i),a.appendChild(n),a.appendChild(r),e.appendChild(s),e.appendChild(a),e}},m=[];let l;function d(){document.querySelectorAll(".btn-to-cart").forEach((e=>{e.addEventListener("click",(()=>{const s=parseInt(e.value),t=a.find((e=>e.id===s)),i=new c(t.id,t.name,t.brand,t.thumbnail,1,t.price);if(0===m.length)m.push(i);else{const e=m.find((e=>e.id===s));void 0!==e?e.addAmount():m.push(i)}var n;n=m,document.querySelector(".header__cart-count").textContent=n.length.toString(),function(e){const s=document.querySelector(".header__total-price");let a=0;e.forEach((e=>{a+=e.getTotalPrice()})),s.textContent=`$${a.toString()}`}(m)}))}))}class g{handleRouting(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);g.renderNewPage(e)}))}static renderNewPage(e){g.mainHTML.innerHTML="";let s=null;if(""===e)s=new t(e);else if("cart"===e)s=new i(e,m);else if("description"===e){s=new r(e,l);const a=new r(e,l);setTimeout((()=>{a.listen()}),500)}else s=new o("error404");if(s){const e=s.render();this.mainHTML.appendChild(e),s instanceof t&&(document.querySelectorAll(".btn-view").forEach((e=>{e.addEventListener("click",(()=>{const s=parseInt(e.value);l=a.find((e=>e.id===s)),document.location.href="#description"}))})),d())}}constructor(){this.header=function(){const e=document.createElement("header");return e.className="header",e.innerHTML='\n        <div class="header-wrapper wrapper">\n            <div class="header__logo">\n                <a href="#" ><img class="header__logo-img" src="./assets/png/store-logo.png" alt="Online Store" /></a>\n            </div>\n            <div class="header__total">\n                <a href="#description" ><span class="header__total-title">Total:</span></a>\n                <span class="header__total-price">0</span>\n            </div>\n            <div class="header__cart">\n                <span class="header__cart-title">Cart:</span>\n                <span class="header__cart-count">0</span>\n                <a href="#cart"><img class="header__cart-img" src="./assets/png/cart.png" alt="Cart" /></a>\n            </div>\n        </div>\n    ',e}(),this.footer=function(){const e=document.createElement("footer");return e.className="footer",e.innerHTML='\n        <div class="footer-wrapper wrapper">\n            <div class="footer__author">\n                <a class="footer__author_github_link" href="https://github.com/DeFranS325">\n                    <img class="footer__author_github_img" src="./assets/svg/github.svg" />\n                    <span class="footer__author_github_name">DeFranS325</span>\n                </a>\n                <a class="footer__author_github_link" href="https://github.com/sohodoll">\n                    <img class="footer__author_github_img" src="./assets/svg/github.svg" />\n                    <span class="footer__author_github_name">Sohodoll</span>\n                </a>\n            </div>\n            <div class="footer__site-year">2022</div>\n            <div class="footer__rsshool">\n                <a class="footer__rsshool_link" href="https://rs.school/js/">\n                    <img class="footer__rsshool_img" src="./assets/svg/rs_school.svg" />\n                </a>\n            </div>\n        </div>\n    ',e}()}run(){g.container.prepend(this.header),g.renderNewPage(""),g.container.appendChild(this.footer),this.handleRouting()}}g.container=document.body,g.mainHTML=document.querySelector(".main");(new g).run()})();