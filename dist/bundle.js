(()=>{"use strict";class e{constructor(e){this.container=document.createElement("div"),""===e&&(e="main"),this.container.className=`${e}-wrapper wrapper`,this.container.id=e,this.mainHTML=document.querySelector("#main")}createHTML(e){this.container.innerHTML=e}render(){return this.container}}e.TextObject={};const t=e;var n;!function(e){e.remove='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">\n                <g>\n                    <path d="M784.3,127.4H631.7C624.1,61.4,568,10,500,10c-68,0-124.1,51.4-131.7,117.4H215.7c-61.7,0-112,50.2-112,112v5.7c0,47.2,29.4,87.6,70.8,104V878c0,61.7,50.2,112,112,112h427.1c61.7,0,112-50.2,112-112V349.1c41.4-16.5,70.8-56.8,70.8-104v-5.7C896.2,177.6,846,127.4,784.3,127.4L784.3,127.4z M500,63.1c38.7,0,71,27.7,78.1,64.3H421.9C429.1,90.8,461.3,63.1,500,63.1L500,63.1z M772.4,878c0,32.5-26.4,58.9-58.9,58.9H286.5c-32.4,0-58.9-26.4-58.9-58.9v-521h544.8V878z M843.1,245.1c0,32.5-26.4,58.9-58.9,58.9H215.7c-32.4,0-58.9-26.4-58.9-58.9v-5.7c0-32.5,26.4-58.9,58.9-58.9h568.6c32.4,0,58.9,26.4,58.9,58.9V245.1L843.1,245.1z"/><path d="M357.7,869c14.7,0,26.5-11.9,26.5-26.5V543.5c0-14.7-11.9-26.6-26.5-26.6c-14.7,0-26.5,11.9-26.5,26.6v298.9C331.1,857.1,343,869,357.7,869L357.7,869z"/><path d="M500,869c14.7,0,26.5-11.9,26.5-26.5V543.5c0-14.7-11.9-26.6-26.5-26.6c-14.7,0-26.5,11.9-26.5,26.6v298.9C473.5,857.1,485.3,869,500,869L500,869z"/><path d="M642.3,869c14.7,0,26.5-11.9,26.5-26.5V543.5c0-14.7-11.9-26.6-26.5-26.6c-14.7,0-26.5,11.9-26.5,26.6v298.9C615.8,857.1,627.7,869,642.3,869z"/>\n                </g>\n            </svg>',e.cart='<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n                 width="114.000000pt" height="100.000000pt" viewBox="0 0 114.000000 100.000000"\n                 preserveAspectRatio="xMidYMid meet">\n\n                <g transform="translate(0.000000,100.000000) scale(0.100000,-0.100000)" stroke="none">\n                    <path d="M9 984 c-6 -7 -9 -23 -7 -36 3 -20 12 -25 68 -36 35 -7 68 -16 71\n                    -20 4 -4 50 -141 104 -304 88 -269 96 -301 86 -330 -20 -58 -39 -78 -72 -78\n                    -38 0 -89 -48 -89 -84 0 -85 91 -125 150 -66 14 14 20 34 20 65 l0 45 215 0\n                    215 0 0 -41 c0 -52 12 -73 49 -89 93 -38 167 80 90 144 l-31 26 -195 0 -195 0\n                    32 36 c17 20 36 47 42 60 13 28 15 29 258 49 178 15 210 23 210 50 0 7 25 97\n                    55 200 34 115 52 192 47 197 -5 5 -74 14 -153 20 -755 51 -772 53 -780 68 -4\n                    8 -15 37 -24 63 -19 53 -32 61 -107 69 -33 4 -51 1 -59 -8z m358 -239 c22 -85\n                    21 -86 -44 -83 l-58 3 -22 60 c-12 33 -22 64 -22 68 -1 4 29 7 66 5 l67 -3 13\n                    -50z m188 33 c1 -2 5 -29 9 -61 l6 -58 -72 3 -72 3 -13 50 c-21 81 -23 79 63\n                    72 42 -3 77 -7 79 -9z m163 -8 l43 0 -3 -57 -3 -57 -70 3 c-38 1 -71 4 -73 6\n                    -2 1 -6 29 -9 61 l-6 57 39 -6 c21 -4 58 -7 82 -7z m216 -16 c11 -4 14 -14 11\n                    -30 -17 -81 -9 -74 -80 -74 l-65 0 0 55 0 55 59 0 c33 0 66 -3 75 -6z m144\n                    -12 c10 -7 10 -16 -1 -48 -13 -37 -16 -39 -61 -42 l-48 -3 7 33 c13 67 14 68\n                    53 68 20 0 43 -4 50 -8z m-671 -177 c19 -77 20 -76 -39 -73 l-51 3 -18 50\n                    c-27 76 -27 76 38 73 l57 -3 13 -50z m175 -5 c3 -30 5 -57 3 -59 -3 -2 -30 -4\n                    -61 -5 -63 -1 -61 -3 -78 87 l-7 38 68 -3 68 -3 7 -55z m152 50 c19 0 21 -5\n                    18 -55 l-4 -55 -58 0 c-56 0 -58 1 -64 31 -3 17 -6 45 -6 62 0 30 0 30 46 23\n                    26 -3 56 -6 68 -6z m180 -47 c-3 -27 -7 -49 -8 -50 -1 -1 -28 -5 -59 -9 l-57\n                    -7 0 57 0 56 66 0 65 0 -7 -47z m136 41 c0 -3 -5 -25 -11 -50 -11 -43 -13 -44\n                    -50 -44 -42 0 -45 6 -33 69 6 29 9 31 50 31 24 0 44 -3 44 -6z m-160 -161 c0\n                    -58 -9 -71 -53 -76 -23 -2 -45 -1 -49 2 -4 3 -4 25 -1 48 6 44 12 49 76 52 23\n                    1 27 -3 27 -26z m120 21 c0 -4 -5 -24 -12 -45 -10 -35 -15 -39 -44 -39 -32 0\n                    -32 0 -23 38 5 20 9 40 9 45 0 9 70 10 70 1z m-416 -26 c19 -95 18 -98 -54\n                    -98 -36 0 -38 2 -49 44 -16 64 -16 65 37 69 26 2 50 4 54 5 4 1 10 -8 12 -20z\n                    m156 -15 c0 -51 -9 -61 -56 -69 -37 -5 -42 -4 -47 17 -4 13 -7 39 -7 57 l0 32\n                    55 0 55 0 0 -37z m-303 -28 c17 -68 19 -65 -31 -65 -44 0 -44 1 -60 47 -24 71\n                    -23 75 31 71 l47 -3 13 -50z m73 -100 c0 -3 -12 -24 -27 -46 -31 -47 -68 -69\n                    -116 -69 l-35 0 19 37 c10 21 19 45 19 55 0 13 10 18 43 21 77 7 97 7 97 2z\n                    m-236 -171 c31 -31 11 -84 -33 -84 -16 0 -41 30 -41 50 0 22 25 50 45 50 7 0\n                    21 -7 29 -16z m601 -4 c36 -40 -7 -96 -55 -70 -25 14 -27 65 -2 79 25 15 37\n                    13 57 -9z"/>\n                </g>\n            </svg>',e.grid='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.36 122.88" xml:space="preserve">\n\t            <style type="text/css"><![CDATA[ .st0{fill-rule:evenodd;clip-rule:evenodd;} ]]></style>\n\t            <g>\n\t\t            <path class="st0" d="M5.85,0h20.09c3.22,0,5.85,2.63,5.85,5.85v20.09c0,3.22-2.63,5.85-5.85,5.85H5.85C2.63,31.8,0,29.16,0,25.94 V5.85C0,2.63,2.63,0,5.85,0L5.85,0z M96.42,91.08h20.09c3.22,0,5.86,2.63,5.86,5.86v20.09c0,3.22-2.63,5.86-5.86,5.86H96.42 c-3.22,0-5.86-2.63-5.86-5.86V96.94C90.56,93.72,93.2,91.08,96.42,91.08L96.42,91.08z M51.14,91.08h20.09 c3.22,0,5.86,2.63,5.86,5.86v20.09c0,3.22-2.63,5.86-5.86,5.86H51.14c-3.22,0-5.85-2.63-5.85-5.86V96.94 C45.28,93.72,47.92,91.08,51.14,91.08L51.14,91.08z M5.85,91.08h20.09c3.22,0,5.85,2.63,5.85,5.86v20.09 c0,3.22-2.63,5.86-5.85,5.86H5.85c-3.22,0-5.85-2.63-5.85-5.86V96.94C0,93.72,2.63,91.08,5.85,91.08L5.85,91.08z M96.42,45.54 h20.09c3.22,0,5.86,2.63,5.86,5.86v20.09c0,3.22-2.63,5.86-5.86,5.86H96.42c-3.22,0-5.86-2.63-5.86-5.86V51.4 C90.56,48.18,93.2,45.54,96.42,45.54L96.42,45.54z M51.14,45.54h20.09c3.22,0,5.86,2.63,5.86,5.86v20.09 c0,3.22-2.63,5.86-5.86,5.86H51.14c-3.22,0-5.85-2.63-5.85-5.86V51.4C45.28,48.18,47.92,45.54,51.14,45.54L51.14,45.54z M5.85,45.54h20.09c3.22,0,5.85,2.63,5.85,5.86v20.09c0,3.22-2.63,5.86-5.85,5.86H5.85C2.63,77.34,0,74.7,0,71.48V51.4 C0,48.18,2.63,45.54,5.85,45.54L5.85,45.54z M96.42,0h20.09c3.22,0,5.86,2.63,5.86,5.85v20.09c0,3.22-2.63,5.85-5.86,5.85H96.42 c-3.22,0-5.86-2.63-5.86-5.85V5.85C90.56,2.63,93.2,0,96.42,0L96.42,0z M51.14,0h20.09c3.22,0,5.86,2.63,5.86,5.85v20.09 c0,3.22-2.63,5.85-5.86,5.85H51.14c-3.22,0-5.85-2.63-5.85-5.85V5.85C45.28,2.63,47.92,0,51.14,0L51.14,0z"/>\n\t            </g>\n            </svg>',e.list='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 102.4">\n\t            <defs>\n\t\t            <style>.cls-1{fill-rule:evenodd;}</style>\n\t            </defs>\n\t            <title>list-view</title>\n\t            <path class="cls-1" d="M35.37,0h86a1.56,1.56,0,0,1,1.55,1.55V20.21a1.58,1.58,0,0,1-1.55,1.54h-86a1.56,1.56,0,0,1-1.54-1.54V1.55A1.54,1.54,0,0,1,35.37,0Zm0,80.65h86a1.56,1.56,0,0,1,1.55,1.54v18.67a1.58,1.58,0,0,1-1.55,1.54h-86a1.56,1.56,0,0,1-1.54-1.54V82.19a1.54,1.54,0,0,1,1.54-1.54Zm-33.82,0h16a1.56,1.56,0,0,1,1.55,1.54v18.67a1.58,1.58,0,0,1-1.55,1.54h-16A1.56,1.56,0,0,1,0,100.86V82.19a1.54,1.54,0,0,1,1.55-1.54ZM35.37,62.08h86a1.56,1.56,0,0,0,1.55-1.55V41.87a1.58,1.58,0,0,0-1.55-1.55h-86a1.57,1.57,0,0,0-1.54,1.55V60.53a1.55,1.55,0,0,0,1.54,1.55Zm-33.82,0h16a1.56,1.56,0,0,0,1.55-1.55V41.87a1.58,1.58,0,0,0-1.55-1.55h-16A1.57,1.57,0,0,0,0,41.87V60.53a1.55,1.55,0,0,0,1.55,1.55ZM1.55,0h16A1.56,1.56,0,0,1,19.1,1.55V20.21a1.58,1.58,0,0,1-1.55,1.54h-16A1.56,1.56,0,0,1,0,20.21V1.55A1.54,1.54,0,0,1,1.55,0Z"/>\n            </svg>',e.clean='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000">\n                <g>\n                    <path d="M990,85.6L914.4,10L500,424.4L85.6,10L10,85.6L424.4,500L10,914.4L85.6,990L500,575.6L914.4,990l75.6-75.6L575.6,500L990,85.6z"/>\n                </g>\n            </svg>',e.search='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewport="0 0 24 24">\n\t            <path d="M15.853 16.56c-1.683 1.517-3.911 2.44-6.353 2.44-5.243 0-9.5-4.257-9.5-9.5s4.257-9.5 9.5-9.5 9.5 4.257 9.5 9.5c0 2.442-.923 4.67-2.44 6.353l7.44 7.44-.707.707-7.44-7.44zm-6.353-15.56c4.691 0 8.5 3.809 8.5 8.5s-3.809 8.5-8.5 8.5-8.5-3.809-8.5-8.5 3.809-8.5 8.5-8.5z"/>\n            </svg>',e.close='<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">\n        <path d="M512 960C264.97 960 64 759.03 64 512S264.97 64 512 64c247.04 0 448 200.97 448 448S759.04 960 512 960z m0-861.54C283.98 98.46 98.46 283.98 98.46 512S283.98 925.54 512 925.54 925.54 740.02 925.54 512 740.02 98.46 512 98.46z"  />\n        <path d="M353.61 687.62c-4.41 0-8.82-1.68-12.18-5.05-6.73-6.73-6.73-17.63 0-24.37l316.78-316.78c6.73-6.73 17.63-6.73 24.37 0s6.73 17.63 0 24.37L365.79 682.57a17.14 17.14 0 0 1-12.18 5.05z"  />\n        <path d="M670.39 687.62c-4.41 0-8.82-1.68-12.18-5.05L341.43 365.79c-6.73-6.73-6.73-17.63 0-24.37s17.63-6.73 24.37 0L682.58 658.2c6.73 6.73 6.73 17.63 0 24.37a17.18 17.18 0 0 1-12.19 5.05z"  />\n    </svg>'}(n||(n={}));const a=n;const s=[{id:1,brand:"Adidas",name:"Adistar",description:"Solid running shoes",price:180,stock:30,category:"Running",thumbnail:"./assets/images/adistar/adistar.jpg",images:["./assets/images/adistar/adistar1.jpg","./assets/images/adistar/adistar2.jpg"]},{id:2,brand:"Adidas",name:"Adizero Boston 10",description:"Fast running shoes with a carbon plate",price:200,stock:20,category:"Running",thumbnail:"./assets/images/adizero/adizero.jpg",images:["./assets/images/adizero/adizero1.jpg","./assets/images/adizero/adizero2.jpg"]},{id:3,brand:"Adidas",name:"Takumi Sen 8",description:"Light running shoes with a carbon plate",price:220,stock:10,category:"Running",thumbnail:"./assets/images/takumi/takumi.jpg",images:["./assets/images/takumi/takumi1.jpg","./assets/images/takumi/takumi2.jpg"]},{id:4,brand:"Nike",name:"Pegasus",description:"Light running shoes with a carbon plate",price:220,stock:10,category:"Running",thumbnail:"./assets/images/pegasus/pegasus.jpg",images:["./assets/images/pegasus/pegasus1.jpg","./assets/images/pegasus/pegasus2.jpg"]},{id:5,brand:"Nike",name:"Vaporfly Next",description:"Professional running shoes from Nike",price:210,stock:15,category:"Running",thumbnail:"./assets/images/vaporfly/vaporfly.jpg",images:["./assets/images/vaporfly/vaporfly1.jpg","./assets/images/vaporfly/vaporfly2.jpg"]},{id:6,brand:"Adidas",name:"Campus 80",description:"Casual shoes with prime materials",price:110,stock:35,category:"Casual",thumbnail:"./assets/images/campus/campus.jpg",images:["./assets/images/campus/campus1.jpg","./assets/images/campus/campus2.jpg"]},{id:7,brand:"Adidas",name:"NMD R1",description:"Stylish and casual shoes from Adidas",price:100,stock:25,category:"Casual",thumbnail:"./assets/images/nmd/nmd.jpg",images:["./assets/images/nmd/nmd1.jpg","./assets/images/nmd/nmd2.jpg"]},{id:8,brand:"Puma",name:"Suede Classic",description:"Casual shoes from Puma",price:210,stock:15,category:"Casual",thumbnail:"./assets/images/suede/suede.jpg",images:["./assets/images/suede/suede1.jpg","./assets/images/suede/suede2.jpg"]},{id:9,brand:"Nike",name:"Air Force",description:"Modern casual shoes from Nike",price:130,stock:20,category:"Casual",thumbnail:"./assets/images/force/force.jpg",images:["./assets/images/force/force1.jpg","./assets/images/force/force2.jpg"]},{id:10,brand:"Nike",name:"Blazer Mid 77",description:"Best-selling casual shoes from Nike",price:150,stock:5,category:"Casual",thumbnail:"./assets/images/blazer/blazer.jpg",images:["./assets/images/blazer/blazer1.jpg","./assets/images/blazer/blazer2.jpg"]},{id:11,brand:"Asics",name:"Gel Kayano 27",description:"Soft trail running shoes from Asics",price:200,stock:10,category:"Trail",thumbnail:"./assets/images/kayano/kayano.jpg",images:["./assets/images/kayano/kayano1.jpg","./assets/images/kayano/kayano2.jpg"]},{id:12,brand:"Asics",name:"Gel Excite Trail",description:"Premium trail running shoes",price:210,stock:40,category:"Trail",thumbnail:"./assets/images/excite/excite.jpg",images:["./assets/images/excite/excite1.jpg","./assets/images/excite/excite2.jpg"]},{id:13,brand:"Adidas",name:"Agravic Flow 2",description:"Soft and colorful trail running shoes from Adidas",price:170,stock:10,category:"Trail",thumbnail:"./assets/images/agravic/agravic.jpg",images:["./assets/images/agravic/agravic1.jpg","./assets/images/agravic/agravic2.jpg"]},{id:14,brand:"Adidas",name:"Two Flow",description:"Premium trail running shoes from Adidas",price:180,stock:15,category:"Trail",thumbnail:"./assets/images/flow/flow.jpg",images:["./assets/images/flow/flow1.jpg","./assets/images/flow/flow2.jpg"]},{id:15,brand:"Hoka",name:"Speedgoat",description:"Professional train running shoes for rocky terrains from Hoka",price:160,stock:10,category:"Trail",thumbnail:"./assets/images/speedgoat/speedgoat.jpg",images:["./assets/images/speedgoat/speedgoat1.jpg","./assets/images/speedgoat/speedgoat2.jpg"]},{id:16,brand:"Nike",name:"LeBron 20",description:"Professional basketball shoes from Nike",price:200,stock:10,category:"Basketball",thumbnail:"./assets/images/lebron/lebron.jpg",images:["./assets/images/lebron/lebron1.jpg","./assets/images/lebron/lebron2.jpg"]},{id:17,brand:"Nike",name:"KD 15",description:"Professional and colorful basketball shoes from Nike",price:190,stock:20,category:"Basketball",thumbnail:"./assets/images/kd/kd.jpg",images:["./assets/images/kd/kd1.jpg","./assets/images/kd/kd2.jpg"]},{id:18,brand:"Nike",name:"Air Jordan 1",description:"Iconic basketball shoes from Nike",price:210,stock:5,category:"Basketball",thumbnail:"./assets/images/jordan/jordan.jpg",images:["./assets/images/jordan/jordan1.jpg","./assets/images/jordan/jordan2.jpg"]},{id:19,brand:"Puma",name:"Fusion Nitro",description:"Bouncy basketball shoes from Puma",price:160,stock:20,category:"Basketball",thumbnail:"./assets/images/fusion/fusion.jpg",images:["./assets/images/fusion/fusion1.jpg","./assets/images/fusion/fusion2.jpg"]},{id:20,brand:"Puma",name:"Court Rider",description:"Soft basketball shoes from Puma",price:140,stock:25,category:"Basketball",thumbnail:"./assets/images/court/court.jpg",images:["./assets/images/court/court1.jpg","./assets/images/court/court2.jpg"]},{id:21,brand:"Asics",name:"Blast FF3",description:"Professional volleyball shoes from Asics",price:170,stock:35,category:"Volleyball",thumbnail:"./assets/images/blast/blast.jpg",images:["./assets/images/blast/blast1.jpg","./assets/images/blast/blast2.jpg"]},{id:22,brand:"Asics",name:"Gel Rocket 10",description:"Professional and bouncy volleyball shoes from Asics",price:120,stock:15,category:"Volleyball",thumbnail:"./assets/images/rocket/rocket.jpg",images:["./assets/images/rocket/rocket1.jpg","./assets/images/rocket/rocket2.jpg"]},{id:23,brand:"Asics",name:"Sky Elite",description:"Professional volleyball shoes from Asics",price:150,stock:20,category:"Volleyball",thumbnail:"./assets/images/elite/elite.jpg",images:["./assets/images/elite/elite1.jpg","./assets/images/elite/elite2.jpg"]},{id:24,brand:"Asics",name:"Gel Tactic",description:"Professional and soft volleyball shoes from Asics",price:160,stock:5,category:"Volleyball",thumbnail:"./assets/images/tactic/tactic.jpg",images:["./assets/images/tactic/tactic1.jpg","./assets/images/tactic/tactic2.jpg"]},{id:25,brand:"Asics",name:"FurtherUP",description:"Budget volleyball shoes from Asics",price:90,stock:20,category:"Volleyball",thumbnail:"./assets/images/further/further.jpg",images:["./assets/images/further/further1.jpg","./assets/images/further/further2.jpg"]}];function i(e,t,n){const a=new URL(window.location.href);e&&a.searchParams.set("brand",e),t&&a.searchParams.set("category",t),n&&a.searchParams.set("search",n),window.history.replaceState(null,"null",a)}function c(e){const t=new URL(window.location.href);e.forEach((e=>{t.searchParams.delete(e)})),window.history.replaceState(null,"null",t)}function r(e,t,n){let a=[];if(t&&n)a=e.filter((e=>e.brand===t&&e.category===n));else{if(!t&&!n)return e;t?a=e.filter((e=>e.brand===t)):n&&(a=e.filter((e=>e.category===n)))}return a}function o(e,t,n){return"price"===t?"asc"===n?e.sort(((e,t)=>e.price-t.price)):e.sort(((e,t)=>t.price-e.price)):"asc"===n?e.sort(((e,t)=>e.stock-t.stock)):e.sort(((e,t)=>t.stock-e.stock))}const l=class{constructor(e,t,n){this.id=e+1,this.name=t,this.value=n,this.used=!1}getID(){return this.id}setValue(e){this.value=e}getValue(){return this.value}setUsed(){this.used=!0}setNotUsed(){this.used=!1}getUsed(){return this.used}};function d(e){(8!=e.which&&0!=e.which&&e.which<48||e.which>57)&&e.preventDefault()}function m(e,t){const n=e.parentElement,a=n.querySelector("input");n.querySelector(".error").innerText=t,a.classList.add("err"),a.classList.remove("success")}function u(e){const t=e.parentElement,n=t.querySelector("input");t.querySelector(".error").innerText="",n.classList.add("success"),n.classList.remove("err")}function g(){const e=document.querySelector("#name"),t=e.value.trim(),n=t.split(" ");m(e,"Username required or wrong format");t.match(/\d/)||n[0]&&n[1]&&(n[0]&&n[0].length,n[1]&&n[1].length,n[0]&&n[1]&&n[0].length>=3&&n[1].length>=3&&u(e))}function p(){const e=document.querySelector("#phone"),t=e.value.trim(),n=t.slice(1);m(e,"Phone required or wrong format");n.match(/^\d{9,}$/)&&"+"===t[0]&&u(e)}function h(){const e=document.querySelector("#address"),t=e.value.trim().split(" ");m(e,"Address required or wrong format");t[0]&&t[1]&&t[2]&&(t[0].length<5||t[1].length<5||t[2].length<5||u(e))}function v(){const e=document.querySelector("#email"),t=e.value.trim();m(e,"Email required or wrong format");t.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&u(e)}function _(){const e=document.querySelector("#card-num"),t=document.querySelector("#card-filler");let n=e.value.trim();const a=String(n);n=Number(n);const s=/^\d+$/.test(a);m(e,"Card number required or wrong format");if(a.length||(t.src="../../assets/png/card-filler.png"),a.length){switch(a[0]){case"4":t.src="../../assets/svg/visa.svg";break;case"5":t.src="../../assets/svg/mastercard.svg";break;case"6":t.src="../../assets/svg/paypal.svg"}16===a.length&&s&&u(e)}}function b(){const e=document.querySelector("#card-valid"),t=e.value,n=(m(e,"Expiration date required or wrong format"),t.split(""));n[0]&&n[1]&&!n[2]&&(e.value=e.value+"/"),n[0]&&n[2]&&n[3]&&n[4]&&(Number(n[0]+n[1])>12||"0"===n[0]&&"0"===n[1]||Number(n[3]+n[4])>31||"0"===n[3]&&"0"===n[4]||u(e))}function f(){const e=document.querySelector("#card-cvv"),t=e.value;m(e,"CVV required or wrong format");t.length<3||u(e)}function y(){(function(){const e=document.querySelector("#name"),t=document.querySelector("#phone"),n=document.querySelector("#address"),a=document.querySelector("#email"),s=document.querySelector("#card-num"),i=document.querySelector("#card-valid"),c=document.querySelector("#card-cvv"),r=(document.querySelector(".submit-button"),document.querySelector("#card-filler"),[]);g(),p(),h(),v(),_(),b(),f(),r.push(e,t,n,a,s,i,c);let o=!1;const l=[],d=[];return r.forEach((e=>{d.push(e.value),l.push(Array.from(e.classList).includes("err"))})),l.includes(!0)?o=!1:d.includes("")||(o=!0),o})()?alert("Purchase completed!\n\nEmptying cart, redirecting to main..."):alert("Invalid data entered, please try again!!!")}class S{render(){const e=document.createElement("form");return e.id="form",e.action="/",e.innerHTML='\n            <h1>Personal details</h1>\n            <div class="input-control">\n                <label for="name">Name</label>\n                <input type="text" id="name" name="name" placeholder="Casey Neistat" />\n                <div class="error"></div>\n            </div>\n            <div class="input-control">\n                <label for="phone">Phone Number</label>\n                <input type="tel" id="phone" name="phone" placeholder="+4956902244" />\n                <div class="error"></div>\n            </div>\n            <div class="input-control">\n                <label for="address">Address</label>\n                <input type="text" id="address" name="address" placeholder="United States, Washington" />\n                <div class="error"></div>\n            </div>\n            <div class="input-control">\n                <label for="email">Email</label>\n                <input type="text" id="email" name="email" placeholder="email@email.com" />\n                <div class="error"></div>\n            </div>\n            <div class="input-control card-num-input-control">\n                <label for="card-num">Card Number</label>\n                <input\n                    class="card-num__input"\n                    type="number"\n                    id="card-num"\n                    name="card-num"\n                    placeholder="4997557688956757"\n                    onKeyPress="if(this.value.length==16) return false;"\n                />\n                <img id="card-filler" src="../../assets/png/card-filler.png" alt="card-brand" />\n                <div class="error"></div>\n            </div>\n            <div class="input-control">\n                <label for="card-valid">Valid Thru</label>\n                <input\n                    type="text"\n                    id="card-valid"\n                    name="card-valid"\n                    placeholder="04/24"\n                    onKeyPress="if(this.value.length==5) return false;"\n                />\n                <div class="error"></div>\n            </div>\n            <div class="input-control">\n                <label for="card-cvv">CVV</label>\n                <input\n                    type="text"\n                    id="card-cvv"\n                    name="card-cvv"\n                    placeholder="717"\n                    onKeyPress="if(this.value.length==3) return false;"\n                />\n                <div class="error"></div>\n            </div>\n            <button class="submit-button" type="submit">Submit</button>',e}listen(){const e=document.querySelector("#name"),t=document.querySelector("#phone"),n=document.querySelector("#address"),a=document.querySelector("#email"),s=document.querySelector("#card-num"),i=document.querySelector("#card-valid"),c=document.querySelector("#card-cvv"),r=document.querySelector(".submit-button");document.querySelector("#card-filler");[].push(e,t,n,a,s,i,c),e.addEventListener("input",g),t.addEventListener("input",p),n.addEventListener("input",h),a.addEventListener("input",v),s.addEventListener("input",_),s.addEventListener("keypress",(e=>{d(e)})),i.addEventListener("input",b),i.addEventListener("keydown",(e=>{d(e),"Backspace"===e.key&&(i.value="")})),c.addEventListener("input",f),c.addEventListener("keydown",(e=>{d(e)})),r.addEventListener("click",(e=>{e.preventDefault(),y()}))}}const L=[];function E(e,t){t.forEach((t=>{e.appendChild(t)}))}function N(e,t){const n=document.querySelector(".receipt__items-price"),a=document.querySelector(".receipt__delivery"),s=document.querySelector(".receipt__total-price");let i=parseInt(String(n.textContent)),c=0,r=0;i+=t-e,c=.1*i,r=Number(1.1*i),n.textContent=i.toFixed(2),a.textContent=c.toFixed(2),s.textContent=r.toFixed(2)}function x(e){const t=document.createElement("div"),n=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span"),i=document.createElement("button");return t.className="promo__code",t.id=`promo-${e.getID()}`,n.className="promo__name",n.textContent=e.name,a.className="promo__separator",a.textContent=" - ",s.className="promo__value",s.textContent=`${e.getValue()}`,i.className="promo__remove btn",i.value=`${e.getID()}`,i.innerHTML="&#8211;",i.addEventListener("click",(function(){const e=parseInt(this.value),t=document.querySelector(".promo__used-promo-panel"),n=document.querySelector(`#promo-${e}`);if(function(e){const t=document.querySelector(".receipt__total-price"),n=document.querySelector(".receipt__total-promo"),a=L.filter((e=>!0===e.getUsed())).reduce(((e,t)=>e+t.getValue()),0)-L[e-1].getValue(),s=parseInt(String(t.textContent));n.textContent=(s*(1-a/100)).toFixed(2),L[e-1].setNotUsed()}(e),n.remove(),L.every((e=>!1===e.getUsed()))){const e=document.querySelector(".receipt__total-price"),n=document.querySelector(".receipt__total-promo");null==e||e.classList.remove("used-promo"),null==n||n.classList.add("hidden"),t.classList.add("hidden")}})),E(t,[n,a,s,i]),t}function C(){const e=document.createElement("div"),t=document.createElement("h2"),n=document.createElement("input"),a=document.createElement("button"),s=document.createElement("div"),i=document.createElement("h2");let c;return e.className="receipt__promo-panel",t.className="promo__title-panel",t.textContent="Enter your promo code",n.className="promo__value-code",n.type="text",n.placeholder="Enter promo code",a.className="promo__add-button",n.addEventListener("input",(function(){c=L.find((e=>e.name===this.value.toLowerCase())),void 0!==c?(n.classList.add("find"),a.classList.add("enable")):(n.classList.remove("find"),a.classList.remove("enable"))})),a.textContent="Use",a.addEventListener("click",(function(){a.classList.contains("enable")&&void 0!==c&&(c.getUsed()?alert("This promo code has already been used"):(s.appendChild(x(c)),s.classList.remove("hidden"),c.setUsed(),function(){const e=document.querySelector(".receipt__total-price");e.classList.contains("used-promo")||e.classList.add("used-promo");const t=document.querySelector(".receipt__total-promo");t.classList.contains("hidden")&&t.classList.remove("hidden");const n=L.filter((e=>!0===e.getUsed())).reduce(((e,t)=>e+t.getValue()),0);t.textContent=(parseFloat(String(e.textContent))*(1-n/100)).toFixed(2)}()))})),s.className="promo__used-promo-panel hidden",i.className="promo-panel__title",i.textContent="Used promo codes:",s.appendChild(i),E(e,[t,n,a,s]),e}function w(){return ce().reduce(((e=0,t)=>e+t.getAmount()),0)}L.push(new l(L.length,"rs",10)),L.push(new l(L.length,"epm",15));class k{constructor(e,t,n,a,s,i,c,r){this.id=e,this.name=t,this.brand=n,this.category=a,this.thumbnail=s,this.amount=i,this.limit=c,this.price=r}addAmount(){this.amount<this.limit&&this.amount++}delAmount(){this.amount>0&&this.amount--}getAmount(){return this.amount}getTotalPrice(){return this.amount*this.price}createHTMLElement(e){const t=document.createElement("div"),n=document.createElement("div"),s=document.createElement("img"),i=document.createElement("div"),c=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p"),l=document.createElement("div"),d=document.createElement("span"),m=document.createElement("input"),u=document.createElement("button"),g=document.createElement("button"),p=document.createElement("span"),h=document.createElement("p"),v=document.createElement("button");return t.className="cart__item",n.className="cart__item-index",n.textContent=`${e+1}`,s.className="cart__item-img",s.src=this.thumbnail,s.alt=`${this.brand}\n${this.name}`,c.className="cart__item-name",c.textContent=`${this.name}`,r.className="cart__item-brand",r.textContent=`${this.brand}`,o.className="cart__item-category",o.textContent=`${this.category}`,l.className="cart__item-panel-amount",d.className="cart__item-amount-title",d.textContent="Count: ",g.className="cart__item-amount-down btn",g.value=this.id.toString(),g.innerHTML="&#8211;",g.addEventListener("click",(()=>{if(1===this.getAmount())oe(e);else{const e=this.getTotalPrice();this.delAmount();const t=this.getTotalPrice();h.textContent=`${this.getTotalPrice().toString()}`,m.value=this.getAmount().toString(),N(e,t),ie();document.querySelector(".receipt__item-count").textContent=`${w()}`}})),m.type="text",m.className="cart__item-amount",m.id=`item-${this.id.toString()}`,m.min="1",m.max=`${this.limit}`,m.value=`${this.amount}`,m.readOnly=!0,u.className="cart__item-amount-up btn",u.value=this.id.toString(),u.textContent="+",u.addEventListener("click",(()=>{const e=this.getTotalPrice();this.addAmount();const t=this.getTotalPrice();m.value=this.getAmount().toString(),h.textContent=`${this.getTotalPrice().toString()}`,N(e,t),ie(),w();document.querySelector(".receipt__item-count").textContent=`${w()}`})),p.className="cart__item-limit",p.textContent=`${this.limit.toString()}`,E(l,[d,g,m,u,p]),h.className=`cart__item-price item-${this.id.toString()}`,h.textContent=`${this.getTotalPrice().toString()}`,v.className="cart__item-remove btn",v.addEventListener("click",(function(){console.log(e),oe(e)})),v.value=`${e+1}`,v.innerHTML=a.remove,i.className="cart__item-info",E(i,[c,r,o,l,h,v]),E(t,[n,s,i]),t}}let j,$,q,T,M,z;function I(e){const t=document.createElement("div"),n=(new S).render();return T=document.createElement("div"),T.className="receipt__modal-window",e||T.classList.add("hide"),t.className="modal-close",t.innerHTML=a.close,t.addEventListener("click",(()=>{T.classList.toggle("hide")})),n.prepend(t),T.append(n),T}function P(e){j=e}function A(e){$=e}function H(e,t,n){const a=ce();if(a.length>0){e.innerHTML="";const s=Math.min(n,a.length-($-1)*n);for(let i=0;i<s;i+=1){const s=(t-1)*n+i;e.appendChild(a[s].createHTMLElement(s))}}}function V(){const e=document.querySelector(".pagination__first-btn"),t=document.querySelector(".pagination__prev-btn"),n=document.querySelector(".pagination__next-btn"),a=document.querySelector(".pagination__last-btn");1===$?(e.classList.add("disable"),t.classList.add("disable"),$!==q&&(n.classList.remove("disable"),a.classList.remove("disable"))):$===q?(n.classList.add("disable"),a.classList.add("disable"),1!==$&&(e.classList.remove("disable"),t.classList.remove("disable"))):(e.classList.remove("disable"),t.classList.remove("disable"),n.classList.remove("disable"),a.classList.remove("disable"))}function F(){q=Math.ceil(ce().length/j);const e=document.querySelector(".cart__item-collection");$>q&&($=q);document.querySelector(".pagination__num-current-page").value=`${$}`,H(e,$,j),V()}function B(){const e=document.createElement("div"),t=document.createElement("span"),n=function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");e.className="pagination__combobox",t.className="pagination__combobox-text",t.textContent=j.toString(),t.addEventListener("click",(()=>{n.classList.toggle("hidden"),t.classList.toggle("open")})),n.className="pagination__combobox-options hidden";for(let e=0;e<5;e+=1){const a=document.createElement("div");a.className="combobox-option",a.dataset.items=(e+1).toString(),a.textContent=(e+1).toString(),a.addEventListener("click",(function(){n.classList.toggle("hidden"),t.classList.toggle("open"),t.textContent=this.textContent,j=parseInt(String(this.textContent)),F()})),a.addEventListener("mouseenter",(function(){this.classList.add("select")})),a.addEventListener("mouseleave",(function(){this.classList.remove("select")})),n.appendChild(a)}return E(e,[t,n]),e}();return e.className="pagination__perpage-panel",t.className="pagination__combobox-title",t.textContent="Item per page",E(e,[t,n]),e}function R(){const e=document.createElement("div"),t=function(){const e=document.createElement("div"),t=document.createElement("button"),n=document.createElement("button"),a=document.createElement("button"),s=document.createElement("button"),i=document.createElement("input");function c(){i.value=$.toString(),H(document.querySelector(".cart__item-collection"),$,j),V()}return t.className="pagination__first-btn btn",1===$&&t.classList.add("disable"),t.textContent="<<",t.addEventListener("click",(function(){$=1,c()})),n.className="pagination__prev-btn btn",1===$&&n.classList.add("disable"),n.textContent="<",n.addEventListener("click",(function(){$>1&&($-=1),c()})),a.className="pagination__next-btn btn",$===q&&a.classList.add("disable"),a.textContent=">",a.addEventListener("click",(function(){$<q&&($+=1),c()})),s.className="pagination__last-btn btn",$===q&&s.classList.add("disable"),s.textContent=">>",s.addEventListener("click",(function(){$=q,c()})),i.className="pagination__num-current-page",i.readOnly=!0,i.type="text",i.step="1",i.min="1",i.value="1",i.max=q.toString(),e.className="pagincation__page-list",E(e,[t,n,i,a,s]),e}(),n=B();return e.className="pagination",E(e,[t,n,T]),e}class U extends t{constructor(e,t,n){super(e),this.arrCart=t,this.showModalWindow=n}render(){const e=document.createElement("div");let t=document.createElement("div");const n=document.createElement("div");let a=document.createElement("div");const s=I(this.showModalWindow);return e.className="cart",q=Math.ceil(ce().length/j),n.className="cart__item-collection",0===this.arrCart.length?n.innerHTML="<h1>Cart is empty</h1>":(H(n,$,j),a=function(e){const t=document.createElement("div"),n=document.createElement("h2"),a=document.createElement("div");let s=document.createElement("div");const i=document.createElement("p"),c=document.createElement("p"),r=document.createElement("hr"),o=document.createElement("p"),l=document.createElement("p"),d=document.createElement("button");n.className="receipt__title",n.textContent="Your receipt",a.className="receipt__item-count",a.textContent=`${w()}`,s=C();let m=0,u=0,g=0;return e.forEach((e=>{m+=e.getTotalPrice()})),g=.1*m,u=1.1*m,i.className="receipt__items-price",i.textContent=m.toFixed(2),c.className="receipt__delivery",c.textContent=g.toFixed(2),o.className="receipt__total-price",o.textContent=u.toFixed(2),l.className="receipt__total-promo hidden",d.className="receipt__button-buy btn",d.textContent="Buy now",d.addEventListener("click",(()=>{document.querySelector(".receipt__modal-window").classList.toggle("hide"),(new S).listen()})),t.className="cart__receipt",E(t,[n,a,s,i,c,r,o,l,d]),t}(this.arrCart),t=R()),E(e,[n,a]),E(this.container,[e,t,s]),this.container}}let D,Z,O,K=s,G="Sort";const W=class extends t{constructor(e){super(e),this.layout=ae}updateTotalCount(e){this.container.children[0].childNodes[1].childNodes[1].textContent=`${e}`}searchItems(e){return e.filter((e=>function(e,t){return!!e.brand.toLowerCase().includes(t)||!!e.name.toLowerCase().includes(t)||!!e.description.toLowerCase().includes(t)||!!e.category.toLowerCase().includes(t)||e.price>=parseInt(t)||e.stock>=parseInt(t)}(e,O)))}createSearchPanel(e){const t=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),m=document.createElement("span"),u=document.createElement("span"),g=document.createElement("div"),p=document.createElement("div"),h=document.createElement("input"),v=document.createElement("label"),_=document.createElement("div"),b=document.createElement("div"),f=document.createElement("div");_.className="sort__combobox",b.className="sort__combobox-text",b.textContent=G,b.addEventListener("click",(()=>{f.classList.toggle("hidden"),b.classList.toggle("open")})),f.className="sort__combobox-options hidden";for(let e=0;e<4;e+=1){const t=document.createElement("div");switch(t.className="sort__combobox-option",e){case 0:t.textContent="Price Desc";break;case 1:t.textContent="Price Asc";break;case 2:t.textContent="Stock Desc";break;case 3:t.textContent="Stock Asc"}t.addEventListener("click",(()=>{f.classList.toggle("hidden"),b.classList.toggle("open"),b.textContent=t.textContent,G=String(t.textContent);const e=String(t.textContent).split(" ")[0].toLowerCase(),n=String(t.textContent).split(" ")[1].toLowerCase();console.log(e,n),K=o(K,e,n),this.createListItem(K)})),t.addEventListener("mouseenter",(function(){this.classList.add("select")})),t.addEventListener("mouseleave",(function(){this.classList.remove("select")})),f.appendChild(t)}_.append(b,f);const y=document.createElement("div"),S=document.createElement("button"),L=document.createElement("button");return l.innerText="Copy Link",l.className="search__copy-query btn",l.id="copy-query",d.innerHTML="Reset",d.className="search__reset btn",d.id="reset",l.addEventListener("click",(()=>{const e=window.location.href;navigator.clipboard.writeText(e),l.classList.add("copy_active"),l.innerText="Copied!",setTimeout((()=>{l.classList.remove("copy_active"),l.innerText="Copy Link"}),1e3)})),d.addEventListener("click",(()=>{null==M||M.classList.remove("brand_active"),null==z||z.classList.remove("category_active"),D="",Z="",O="",h.value="",M=void 0,z=void 0;const e=r(s,D,Z);this.createListItem(e),this.createTitleButtons(e,[D,Z]),c(["brand","category","search"])})),n.className="search__parameter-panel",n.append(d,l),m.className="search__found-title",m.textContent="Found:",u.className="search__found-count",u.textContent=`${s.length}`,p.className="search__input-title",p.textContent="Search:",h.className="search__input",h.id="search__input",h.type="text",h.addEventListener("input",(()=>{h.value?v.classList.remove("hidden"):v.classList.add("hidden")})),h.addEventListener("change",(()=>{if(h.value){O=String(h.value);const e=r(s,D,Z),t=this.searchItems(e);i(D,Z,O),this.createListItem(t)}else{c(["search"]);const e=r(s,D,Z);this.createListItem(e)}})),v.className="search__input-cleaner hidden",v.htmlFor="search__input",v.innerHTML=a.clean,v.addEventListener("click",(()=>{h.value="",v.classList.toggle("hidden")})),g.className="search__input-panel",g.append(m,u,p,h,v),S.className="search__grid-layout btn",S.innerHTML=a.grid,S.addEventListener("click",(()=>{S.classList.add("select"),L.classList.remove("select"),e.classList.remove("list"),e.classList.add("grid"),re("grid")})),L.className="search__list-layout btn",L.innerHTML=a.list,L.addEventListener("click",(()=>{L.classList.add("select"),S.classList.remove("select"),e.classList.remove("grid"),e.classList.add("list"),re("list")})),"grid"===this.layout?S.classList.add("select"):L.classList.add("select"),y.className="search__layout-panel",y.append(S,L),t.className="main__search-panel",t.append(n,g,_,y),t}createMainItem(e){const t=document.createElement("div");return t.className="main__items",t.append(this.createFilters(),e),t}createFilters(){const e=[],t=[];s.forEach((n=>{e.includes(n.brand)||e.push(n.brand),t.includes(n.category)||t.push(n.category)}));const n=document.createElement("div"),a=this.createFilterElements(e,"brand"),i=this.createFilterElements(t,"category");return a.classList.add("brand__filter"),i.classList.add("category__filter"),n.className="main__filters",n.append(i,a),n}createDualSliders(){const e=Math.max(...s.map((e=>e.price))),t=Math.max(...s.map((e=>e.stock))),n=document.createElement("div");n.className="range_container";const a=document.createElement("div");a.className="sliders_control";const i=document.createElement("input"),c=document.createElement("input");i.id="fromSlider",i.type="range",i.value="0",i.min="0",i.max=String(e),c.id="toSlider",c.type="range",c.value=`${String(e)}`,c.min="0",c.max=String(e),a.append(i,c);const r=document.createElement("div");r.className="form-control";const o=document.createElement("div");o.className="form_control_container";const l=document.createElement("div");l.className="form_control_container__time",l.innerText="Min";const d=document.createElement("input");d.className="form_control_container__time__input",d.id="fromInput",d.type="number",d.value="10",d.min="0",d.max=String(e),o.append(l,d);const m=document.createElement("div");m.className="form_control_container";const u=document.createElement("div");u.className="form_control_container__time",u.innerText="Max";const g=document.createElement("input");g.className="form_control_container__time__input",g.id="toInput",g.type="number",g.value="150",g.min="0",g.max=String(e),m.append(u,g),r.append(o,m),n.append(a,r);const p=document.createElement("div");p.className="range_containerStock";const h=document.createElement("div");h.className="sliders_controlStock";const v=document.createElement("input"),_=document.createElement("input");v.id="fromSliderStock",v.type="range",v.value="5",v.min="0",v.max=String(t),_.id="toSliderStock",_.type="range",_.value="15",_.min="0",_.max=String(t),h.append(v,_);const b=document.createElement("div");b.className="form-controlStock";const f=document.createElement("div");f.className="form_control_containerStock";const y=document.createElement("div");y.className="form_control_container__timeStock",y.innerText="Min";const S=document.createElement("input");S.className="form_control_container__time__inputStock",S.id="fromInputStock",S.type="number",S.value="5",S.min="0",S.max=String(t),f.append(y,S);const L=document.createElement("div");L.className="form_control_containerStock";const E=document.createElement("div");E.className="form_control_container__timeStock",E.innerText="Max";const N=document.createElement("input");N.className="form_control_container__time__inputStock",N.id="toInputStock",N.type="number",N.value="15",N.min="0",N.max=String(t),L.append(E,N),b.append(f,L),p.append(h,b);const x=document.querySelector(".main__filters");console.log("duals!"),x.append(n,p),setTimeout((()=>{this.managePriceSlider(),this.manageStockSlider()}),200)}managePriceSlider(){function e(e,t){return[parseInt(e.value,10),parseInt(t.value,10)]}function t(e,t,n,a,s){const i=Number(t.max)-Number(t.min),c=Number(e.value)-Number(t.min),r=Number(t.value)-Number(t.min);s.style.background=`linear-gradient(\n              to right,\n              ${n} 0%,\n              ${n} ${c/i*100}%,\n              ${a} ${c/i*100}%,\n              ${a} ${r/i*100}%,\n              ${n} ${r/i*100}%,\n              ${n} 100%)`}function n(e){const t=document.querySelector("#toSlider");Number(e.value)<=0?t.style.zIndex=String(2):t.style.zIndex=String(0)}const a=document.querySelector("#fromSlider"),s=document.querySelector("#toSlider"),i=document.querySelector("#fromInput"),c=document.querySelector("#toInput");t(a,s,"#C6C6C6","#655588",s),n(s),a.oninput=()=>function(n,a,s){const[i,c]=e(n,a);t(n,a,"#C6C6C6","#655588",a),i>c?(n.value=String(c),s.value=String(c)):s.value=String(i)}(a,s,i),s.oninput=()=>function(a,s,i){const[c,r]=e(a,s);t(a,s,"#C6C6C6","#655588",s),n(s),c<=r?(s.value=String(r),i.value=String(r)):(i.value=String(c),s.value=String(c))}(a,s,c),i.oninput=()=>function(n,a,s,i){const[c,r]=e(a,s);t(a,s,"#C6C6C6","#25daa5",i),c>r?(n.value=String(r),a.value=String(r)):n.value=String(c)}(a,i,c,s),c.oninput=()=>function(a,s,i,c){const[r,o]=e(s,i);t(s,i,"#C6C6C6","#25daa5",c),n(i),r<=o?(a.value=String(o),i.value=String(o)):i.value=String(r)}(s,i,c,s)}manageStockSlider(){function e(e,t){return[parseInt(e.value,10),parseInt(t.value,10)]}function t(e,t,n,a,s){const i=Number(t.max)-Number(t.min),c=Number(e.value)-Number(t.min),r=Number(t.value)-Number(t.min);s.style.background=`linear-gradient(\n              to right,\n              ${n} 0%,\n              ${n} ${c/i*100}%,\n              ${a} ${c/i*100}%,\n              ${a} ${r/i*100}%,\n              ${n} ${r/i*100}%,\n              ${n} 100%)`}function n(e){const t=document.querySelector("#toSliderStock");Number(e.value)<=0?t.style.zIndex=String(2):t.style.zIndex=String(0)}const a=document.querySelector("#fromSliderStock"),s=document.querySelector("#toSliderStock"),i=document.querySelector("#fromInputStock"),c=document.querySelector("#toInputStock");t(a,s,"#C6C6C6","#655588",s),n(s),a.oninput=()=>function(n,a,s){const[i,c]=e(n,a);t(n,a,"#C6C6C6","#655588",a),i>c?(n.value=String(c),s.value=String(c)):s.value=String(i)}(a,s,i),s.oninput=()=>function(a,s,i){const[c,r]=e(a,s);t(a,s,"#C6C6C6","#655588",s),n(s),c<=r?(s.value=String(r),i.value=String(r)):(i.value=String(c),s.value=String(c))}(a,s,c),i.oninput=()=>function(n,a,s,i){const[c,r]=e(a,s);t(a,s,"#C6C6C6","#655588",i),c>r?(n.value=String(r),a.value=String(r)):n.value=String(c)}(a,i,c,s),c.oninput=()=>function(a,s,i,c){const[r,o]=e(s,i);t(s,i,"#C6C6C6","#655588",c),n(i),r<=o?(a.value=String(o),i.value=String(o)):i.value=String(r)}(s,i,c,s)}createListItem(e){this.container.children[1].childNodes[1].innerHTML="",e.length>0?e.forEach((e=>{this.container.children[1].childNodes[1].appendChild(function(e){const t=document.createElement("div"),n=document.createElement("img"),s=document.createElement("div"),i=document.createElement("div"),c=document.createElement("p"),r=document.createElement("p"),o=document.createElement("div"),l=document.createElement("button"),d=document.createElement("button");return t.className="main__item",t.id=`main__item_${e.id}`,n.className="main__item-brand-logo",n.src=`./assets/svg/${e.brand.toLowerCase()}.svg`,s.className="main__item-tumb",s.style.backgroundImage=`url(${e.thumbnail})`,s.appendChild(n),i.className="main__item-title",c.className="main__item-name",c.textContent=`${e.brand} ${e.name}`,r.className="main__item-price",r.textContent=`${e.price.toString()}`,i.append(c,r),o.className="main__item_btn-collection",l.className="main__item-btn btn-view btn",l.textContent="View",l.value=e.id.toString(),l.addEventListener("click",(function(){document.location.href=`#description/${e.id}`})),d.className="main__item-btn btn-to-cart btn",d.value=e.id.toString(),ce()&&(se(e.id)<0?(d.dataset.icon="cart",d.innerHTML=a.cart):(d.dataset.icon="removeCart",d.innerHTML=a.remove)),d.addEventListener("click",(function(){de(e.id),"cart"===this.dataset.icon?(this.dataset.icon="removeCart",this.innerHTML=a.remove):(this.dataset.icon="cart",this.innerHTML=a.cart)})),o.append(l,d),t.append(s,i,o),t}(e))})):this.container.children[1].childNodes[1].textContent="Nothing found.",this.updateTotalCount(e.length)}createTitleButtons(e,t){const n=this.container.children[1].childNodes[0].childNodes[1].childNodes,a=this.container.children[1].childNodes[0].childNodes[0].childNodes;function s(e,n,a){e.childNodes[1].textContent=`${n}/`,0===n?(e.classList.add("disable"),e.classList.remove(`${a}_active`)):(e.classList.remove("disable"),(null==t?void 0:t.includes(String(e.childNodes[0].textContent)))&&(e.classList.add(`${a}_active`),"brand"===a&&(M=e),"category"===a&&(z=e)))}n.forEach((t=>{const n=t.childNodes[0].textContent;s(t,e.filter((e=>e.brand===n)).length,"brand")})),a.forEach((t=>{const n=t.childNodes[0].textContent;s(t,e.filter((e=>e.category===n)).length,"category")}))}createFilterElements(e,t){const n=document.createElement("div");return e.forEach((e=>{const a=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div");if(o.id=`${e}-count`,"brand"===t){const t=r(s,e,"");o.textContent=`${t.length}/`,l.textContent=`${t.length}`}else if("category"===t){const t=r(s,"",e);o.textContent=`${t.length}/`,l.textContent=`${t.length}`}a.className=t,a.id=`${e.toLowerCase()}-filter`,a.textContent=e,a.append(o,l),a.addEventListener("click",(()=>{a.classList.contains("disable")||("brand"===t?M?M!==a?(M.classList.toggle(`${t}_active`),a.classList.toggle(`${t}_active`),M=a,D=e,i(D,Z,O)):(D="",c([t]),a.classList.remove(`${t}_active`),M=void 0,z&&(Z=String(z.childNodes[0].textContent))):(D=e,a.classList.toggle(`${t}_active`),M=a,z&&(D=e,Z=String(z.childNodes[0].textContent)),i(D,Z,O)):z?z!==a?(z.classList.toggle(`${t}_active`),a.classList.toggle(`${t}_active`),z=a,Z=e,i(D,Z,O)):(Z="",c([t]),a.classList.remove(`${t}_active`),z=void 0,M&&(D=String(M.childNodes[0].textContent))):(Z=e,i(D,Z,O),a.classList.toggle(`${t}_active`),M&&(Z=e,D=String(M.childNodes[0].textContent)),z=a),K=r(s,D,Z),this.createListItem(K),this.createTitleButtons(K),document.querySelectorAll(".btn-view").forEach((e=>{e.addEventListener("click",(()=>{const t=parseInt(e.value);ne=s.find((e=>e.id===t)),document.location.href=`#description/${t}`}))})))})),n.appendChild(a)})),n}handleQueryStorage(e){const t=e.get("brand"),n=e.get("category"),a=e.get("search");let c;i(t,n,a),D=t,Z=n,O=a;let o=r(s,t,n);if(O){this.container.children[0].childNodes[1].childNodes[3].value=O,c=this.searchItems(o),o=c}this.createListItem(o),this.createTitleButtons(o,[t,n])}render(){const e=document.createElement("div");if(e.className=`main__items-collection ${this.layout}`,this.container.append(this.createSearchPanel(e),this.createMainItem(e)),setTimeout((()=>{this.createDualSliders()}),300),window.location.search){const e=new URLSearchParams(window.location.search);this.handleQueryStorage(e)}else A(1),this.createListItem(s);return this.container}};let J;function Q(e){const t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("img"),i=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div"),o=document.createElement("button"),l=document.createElement("button");t.className="description__left",n.className="description__highlights",a.className="description__image",a.src=`${e.thumbnail}`,a.alt=`${e.name}`,i.className="item__price",i.textContent=`${e.price}`,E(n,[a,i]),c.className="description__images";for(let t=0;t<e.images.length+1;t+=1){const n=document.createElement("img");n.className="image-choice",0===t?(n.classList.toggle("select"),J=n,n.src=e.thumbnail):n.src=e.images[t-1],n.alt=e.name,n.addEventListener("click",(function(){a.src=this.src,J&&J.classList.toggle("select"),this.classList.toggle("select"),J=this})),c.appendChild(n)}return r.className="description__buttons",o.className="description__button-buy-now btn",o.textContent="Buy Now",o.addEventListener("click",(()=>{!function(e){se(e)<0&&te.push(le(s[e-1]));ie(),ue.renderNewPage("cart",!0),(new S).listen()}(e.id)})),l.className="description__button-add-cart btn",console.log(ce()),te.findIndex((t=>t.id===e.id))<0?l.textContent="Add To Cart":l.textContent="Remove From Cart",l.addEventListener("click",(function(){de(e.id),"Add To Cart"===this.textContent?this.textContent="Remove From Cart":this.textContent="Add To Cart"})),E(r,[o,l]),E(t,[n,c,r]),t}function Y(e){const t=document.createElement("div");let n=document.createElement("div"),a=document.createElement("div");return t.className="description__container",n=Q(e),a=function(e){const t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),m=document.createElement("div");return t.className="description__right item",n.className="item__left",a.className="item__naming naming",s.className="naming__upper",i.className="naming__bottom",c.className="naming__names",r.className="item__brand",r.textContent=e.brand,o.className="item__model",o.textContent=e.name,E(c,[r,o]),l.className="item__description",l.textContent=e.description,E(s,[c,l]),d.className="item__stock",d.textContent=e.stock.toString(),m.className="item__category",m.textContent=e.category,E(i,[d,m]),E(a,[s,i]),n.appendChild(a),E(t,[n]),t}(e),E(t,[n,a]),t}const X=class extends t{constructor(e,t){super(e),this.shoe=t}render(){let e=document.createElement("div"),t=document.createElement("div");return A(1),e=function(e,t){const n=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div");return s.className="bread__store bread__item",s.innerHTML='<a href="#">Store</a>',a.className="bread__separator",a.textContent=">>",i.className="bread__type bread__item",i.textContent="Shoes",c.className="bread__brand bread__item",c.textContent=e,r.className="bread__name bread__item",r.innerHTML=t,n.className="description__bread bread",E(n,[s,a,i,a.cloneNode(!0),c,a.cloneNode(!0),r]),n}(this.shoe.brand,this.shoe.name),t=Y(this.shoe),E(this.container,[e,t]),this.container}};const ee=class extends t{constructor(e){super(e)}render(){return this.createHTML('<div class="error404-wrapper wrapper">\n                        <img class="error404__img" src="../../../assets/gif/error404.gif" alt="404"/>\n                      </div>\n        '),this.container}};let te,ne,ae;function se(e){return te.findIndex((t=>t.id===e))}function ie(){document.querySelector(".header__cart-count").textContent=te.reduce(((e=0,t)=>e+t.getAmount()),0).toString(),function(){const e=document.querySelector(".header__total-price");let t=0;te.forEach((e=>{t+=e.getTotalPrice()})),e.textContent=`${t.toString()}`}()}function ce(){return te}function re(e){ae=e}function oe(e){te.splice(e,1),F(),ie(),ue.renderNewPage("cart")}function le(e){return new k(e.id,e.name,e.brand,e.category,e.thumbnail,1,e.stock,e.price)}function de(e){se(e)<0?te.push(le(s[e-1])):te.splice(se(e),1),ie()}function me(){localStorage.getItem("arrCart")?(te=JSON.parse(String(localStorage.getItem("arrCart"))).map((e=>{const{id:t,name:n,brand:a,category:s,thumbnail:i,amount:c,limit:r,price:o}=e;return new k(t,n,a,s,i,c,r,o)})),ie(),document.querySelectorAll(".btn-to-cart").forEach((function(e){se(parseInt(String(e.value)))>=0?(e.innerHTML=a.remove,e.dataset.icon="removeCart"):(e.innerHTML=a.cart,e.dataset.icon="cart")}))):te=[],localStorage.getItem("perPage")?P(parseInt(String(localStorage.getItem("perPage")))):P(3),localStorage.getItem("currPage")?A(parseInt(String(localStorage.getItem("currPage")))):A(1),ae=localStorage.getItem("mainLayout")?String(localStorage.getItem("mainLayout")):document.body.clientWidth<750?"list":"grid"}class ue{handleRouting(){window.addEventListener("hashchange",(e=>{e.preventDefault(),window.location.pathname="/",""===window.location.hash&&ue.renderNewPage("error404");const t=window.location.hash.slice(1).split("/")[0],n=window.location.hash.slice(1).split("/")[1];console.log(n),ue.renderNewPage(t)}))}static renderNewPage(e,t){ue.mainHTML.innerHTML="";let n=null;if(""===e)n=new W(e);else if("cart"===e)t||(t=!1),n=new U(e,te,t);else if("description"===e){const t=window.location.hash.slice(1).split("/")[1];t&&(ne=s.find((e=>e.id===Number(t)))),n=new X(e,ne),console.log(t)}else n=new ee("error404");if(n){const e=n.render();this.mainHTML.appendChild(e)}}constructor(){this.header=function(){const e=document.createElement("header");return e.className="header",e.innerHTML='\n        <div class="header-wrapper wrapper">\n            <div class="header__logo">\n                <a href="#" ><img class="header__logo-img" src="./assets/png/store-logo.png" alt="Online Store" /></a>\n            </div>\n            <div class="header__total">\n                <span class="header__total-price">0</span>\n            </div>\n            <div class="header__cart">\n                \x3c!--<span class="header__cart-title">Cart:</span>--\x3e\n                <span class="header__cart-count">0</span>\n                <a href="#cart"><img class="header__cart-img" src="./assets/png/cart.png" alt="Cart" /></a>\n            </div>\n        </div>\n    ',e}(),this.footer=function(){const e=document.createElement("footer");return e.className="footer",e.innerHTML='\n        <div class="footer-wrapper wrapper">\n            <div class="footer__author">\n                <a class="footer__author_github_link" href="https://github.com/DeFranS325">\n                    <img class="footer__author_github_img" src="./assets/svg/github.svg" />\n                    <span class="footer__author_github_name">DeFranS325</span>\n                </a>\n                <a class="footer__author_github_link" href="https://github.com/sohodoll">\n                    <img class="footer__author_github_img" src="./assets/svg/github.svg" />\n                    <span class="footer__author_github_name">Sohodoll</span>\n                </a>\n            </div>\n            <div class="footer__site-year">2022</div>\n            <div class="footer__rsshool">\n                <a class="footer__rsshool_link" href="https://rs.school/js/">\n                    <img class="footer__rsshool_img" src="./assets/svg/rs_school.svg" />\n                </a>\n            </div>\n        </div>\n    ',e}()}run(){if(ue.container.prepend(this.header),me(),""===window.location.hash||"#"===window.location.hash)ue.renderNewPage("");else{const e=window.location.hash.slice(1).split("/")[0],t=window.location.hash.slice(1).split("/")[1];console.log(t),ue.renderNewPage(e)}ue.container.appendChild(this.footer),this.handleRouting()}}ue.container=document.body,ue.mainHTML=document.querySelector(".main"),window.addEventListener("beforeunload",(function(){localStorage.setItem("arrCart",JSON.stringify(te)),localStorage.setItem("perPage",j.toString()),localStorage.setItem("currPage",$.toString()),localStorage.setItem("mainLayout",ae)}));(new ue).run(),window.addEventListener("load",(e=>{e.preventDefault(),"/"!==window.location.pathname&&ue.renderNewPage("error404")}))})();